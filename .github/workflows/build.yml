name: build

on: [push]

jobs:
  build:
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        include:
            - { os:  ubuntu-latest, python: 2.7, env: TOXENV=py27-sphinx18 }
            - { os:  ubuntu-latest, python: 3.6, env: TOXENV=py36-sphinx18 }
            - { os:  ubuntu-latest, python: 3.6, env: TOXENV=py36-sphinx24 }
            - { os:  ubuntu-latest, python: 3.6, env: TOXENV=py36-sphinx30 }
            - { os:  ubuntu-latest, python: 3.6, env: TOXENV=py36-sphinx31 }
            - { os:  ubuntu-latest, python: 3.6, env: TOXENV=py36-sphinx32 }
            - { os:  ubuntu-latest, python: 3.6, env: TOXENV=py36-sphinx33 }
            - { os:  ubuntu-latest, python: 3.7, env: TOXENV=py37-sphinx18 }
            - { os:  ubuntu-latest, python: 3.7, env: TOXENV=py37-sphinx24 }
            - { os:  ubuntu-latest, python: 3.7, env: TOXENV=py37-sphinx30 }
            - { os:  ubuntu-latest, python: 3.7, env: TOXENV=py37-sphinx31 }
            - { os:  ubuntu-latest, python: 3.7, env: TOXENV=py37-sphinx32 }
            - { os:  ubuntu-latest, python: 3.7, env: TOXENV=py37-sphinx33 }
            - { os:  ubuntu-latest, python: 3.8, env: TOXENV=py38-sphinx18 }
            - { os:  ubuntu-latest, python: 3.8, env: TOXENV=py38-sphinx24 }
            - { os:  ubuntu-latest, python: 3.8, env: TOXENV=py38-sphinx30 }
            - { os:  ubuntu-latest, python: 3.8, env: TOXENV=py38-sphinx31 }
            - { os:  ubuntu-latest, python: 3.8, env: TOXENV=py38-sphinx32 }
            - { os:  ubuntu-latest, python: 3.8, env: TOXENV=py38-sphinx33 }
            - { os:  ubuntu-latest, python: 3.9, env: TOXENV=py39-sphinx18 }
            - { os:  ubuntu-latest, python: 3.9, env: TOXENV=py39-sphinx24 }
            - { os:  ubuntu-latest, python: 3.9, env: TOXENV=py39-sphinx30 }
            - { os:  ubuntu-latest, python: 3.9, env: TOXENV=py39-sphinx31 }
            - { os:  ubuntu-latest, python: 3.9, env: TOXENV=py39-sphinx32 }
            - { os:  ubuntu-latest, python: 3.9, env: TOXENV=py39-sphinx33 }
            - { os:   macos-latest, python: 2.7, env: TOXENV=py27-sphinx18 }
            - { os:   macos-latest, python: 3.9, env: TOXENV=py39-sphinx33 }
            - { os: windows-latest, python: 2.7, env: TOXENV=py27-sphinx18 }
            - { os: windows-latest, python: 3.9, env: TOXENV=py39-sphinx33 }

    steps:
    - name: Set up Python ${{ matrix.python }}
      uses: actions/setup-python@v2
      with:
        python-version: ${{ matrix.python }}

    - name: Python interpreter
      run: python -c "import sys; print(sys.version)"
